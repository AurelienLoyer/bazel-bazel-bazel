:revealjsdir: https://cdn.rawgit.com/hakimel/reveal.js/3.8.0/
:revnumber: {project-version}
:example-caption!:
ifndef::imagesdir[:imagesdir: images]
:docinfo: shared
:navigation:
:menu:
:header_footer: true
:status:
:slideNumber: true
:showSlideNumber: true
:title-slide-transition: zoom
:title-slide-transition-speed: fast
:icons: font
:revealjs_history: true
:source-highlighter: highlightjs

[.black.background]
== !

[.notes]
--
Aurelien
--

== !

image::bazel.png[]

[.notes]
--
Aurelien
--

include::chapters/00-speakers.adoc[]

include::chapters/01-chezgoogle.adoc[]

include::chapters/02-function-pure.adoc[]

include::chapters/03-angular.adoc[]

== !

NOTE: Il faut voir Bazel comme un orchestrateur, et non comme un nouvel outil de build √† apprendre

[.notes]
--
--

== üá´üá∑ Multi Langage

[.column]
* Android
* C / C++
* C#
* Docker
* Go
* Groovy

[.column]
* Kotlin
* iOS
* Java
* Javascript
* Perl
* Python

[.column]
* Ruby
* Rust
* Sass
* Shell
* Typescript
* ...

[.notes]
--
Parler d'extensibilite. Indiquer que certains des languages sont support√©s par d√©faut. 
--

== Getting Started

++++
<iframe src="https://giphy.com/embed/1BFGiiHYS2dAbC0Lx1" width="480" height="480" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
++++

[.notes]
--
TODO: 
- Parler de la granularit√© a utiliser. comme mave ? ou une granulatie plus petite. on gagne en performance, mais on perd en maintenabilite
--

include::chapters/starlark.adoc[]

== Workspace / Package

[.hidden-title]
=== !

image::monoreposgoogle.png[structure,600,600]

=== !

[source,python]
----
// WORKSPACE
http_archive(
    name = "build_bazel_rules_nodejs",
    sha256 = "1249a60f88e4c0a46d78de06be04d3d41e7421dcfa0c956de65309a7b7ecf6f4",
    urls = ["https://github.com/bazelbuild/rules_nodejs/releases/download/0.38.0/rules_nodejs-0.38.0.tar.gz"],
)
----

== Rule / Target

=== Utiliser une rule

[source,python]
----
// BUILD.bazel
ts_library(
    srcs =  [ "..." ],
    deps = [ "..." ],
)
----

=== Cr√©er une target

[source,python]
----
// BUILD.bazel
rollup_bundle(
    name = "bundle",
    srcs = [ "..." ],
    deps = [ "..." ],
)
----

== Les labels

Un label correspond √† 

* un fichier 
* une target

=== Les labels

* //gcp/finance:front	
* //gcp/finance
* //gcp/finance:all
* //gcp/...

[.notes]
--
--

=== Les labels

Si je suis dans le r√©pertoire `gcp`

* :all == //gcp:all
* finance:front == //gcp/finance:front

[.notes]
--
--

== Cr√©er une target

[source,python]
---- 
// //library/BUILD.bazel
ts_library(
    name = "library",
    srcs = glob(["*.ts"]),
    deps = [ "@npm//@types/react" ],
)
----

== D√©pendances

[source,python]
----
// //library/BUILD.bazel
ts_library(
    name = "library",
    srcs = glob(["*.ts"]),
    deps = [ "@npm//@types/react" ],
)

// //BUILD.bazel
ts_library(
    name = "app",
    srcs = glob(["*.ts"]),
    deps = [ "//library", "@npm//@types/react" ],
)
----

include::chapters/demo.adoc[]

include::chapters/conclusion.adoc[]

include::chapters/thanks.adoc[]
